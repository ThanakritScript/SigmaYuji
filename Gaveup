local Players = game:GetService("Players")  -- Get the Players service
local player = Players.LocalPlayer  -- Get the local player (the one running the game)
local character = player.Character or player.CharacterAdded:Wait()  -- Wait for the character to load

-- Helper function to create a particle emitter
local function createParticleEmitter(parent)
    local attachment = Instance.new("Attachment", parent)
    local particleEmitter = Instance.new("ParticleEmitter", attachment)

    -- Configure the particle emitter properties
    particleEmitter.FlipbookLayout = Enum.ParticleFlipbookLayout.Grid4x4  -- Set layout for flipbook animation
    particleEmitter.FlipbookMode = Enum.ParticleFlipbookMode.OneShot  -- One-time animation (not looping)
    particleEmitter.Lifetime = NumberRange.new(0.45, 0.55)  -- Particles last for half a second
    particleEmitter.LightEmission = -0.55  -- Disable light emission (no lighting effect)
    particleEmitter.LockedToPart = true  -- Attach the particles to the part
    particleEmitter.Rate = 5  -- Emit 5 particles per second
    particleEmitter.Size = NumberSequence.new({
        NumberSequenceKeypoint.new(0, 1, 0),
        NumberSequenceKeypoint.new(1, 2, 0)
    })  -- Particles stay the same size
    particleEmitter.Speed = NumberRange.new(0, 0)  -- Particles don't move
    particleEmitter.Texture = "http://www.roblox.com/asset/?id=14904853757"  -- Set texture for particles

    -- Set the transparency to fade out gradually
    particleEmitter.Transparency = NumberSequence.new({
        NumberSequenceKeypoint.new(0, 0),    -- Fully visible at the start
        NumberSequenceKeypoint.new(1, 1)     -- Fully invisible at the end
    })

    -- Set the particle color
    particleEmitter.Color = ColorSequence.new(Color3.new(52 / 255, 191 / 255, 241 / 255))  -- Set particle color to (52, 191, 241)

    particleEmitter.ZOffset = -1  -- Set depth of the particles (makes them appear behind)
end

-- Attach particles to both Hitbox_LeftArm and Hitbox_RightArm
if character:FindFirstChild("Hitbox_RightArm") then
    createParticleEmitter(character["Hitbox_RightArm"])
end

if character:FindFirstChild("Hitbox_RightArm") then
    createParticleEmitter(character["Hitbox_LeftArm"])
end


--1st move miss
local animationId = 12272894215
 
 
local player = game.Players.LocalPlayer
 
local character = player.Character or player.CharacterAdded:Wait()
 
local humanoid = character:WaitForChild("Humanoid")
 
 
local function onAnimationPlayed(animationTrack)
 
    if animationTrack.Animation.AnimationId == "rbxassetid://" .. animationId then
 
local p = game.Players.LocalPlayer
 
local Humanoid = p.Character:WaitForChild("Humanoid")
 
 
for _, animTrack in pairs(Humanoid:GetPlayingAnimationTracks()) do
 
    animTrack:Stop()
 
end
 
 
local AnimAnim = Instance.new("Animation")
 
AnimAnim.AnimationId = "rbxassetid://17465453123"
 
local Anim = Humanoid:LoadAnimation(AnimAnim)
 

local startTime = 1.25
 
 
Anim:Play()
 
Anim:AdjustSpeed(1.1)
 
Anim.TimePosition = startTime
 
Anim:AdjustSpeed(1.15)

delay(1.1, function()
 
    Anim:Stop()
 
end)
 
 
    end
 
end

humanoid.AnimationPlayed:Connect(onAnimationPlayed)

--1st move
local animationId = 12273188754
 
 
local player = game.Players.LocalPlayer
 
local character = player.Character or player.CharacterAdded:Wait()
 
local humanoid = character:WaitForChild("Humanoid")
 
 
local function onAnimationPlayed(animationTrack)
 
    if animationTrack.Animation.AnimationId == "rbxassetid://" .. animationId then
 
local p = game.Players.LocalPlayer
 
local Humanoid = p.Character:WaitForChild("Humanoid")
 
 
for _, animTrack in pairs(Humanoid:GetPlayingAnimationTracks()) do
 
    animTrack:Stop()
 
end
 
 
local AnimAnim = Instance.new("Animation")
 
AnimAnim.AnimationId = "rbxassetid://18896229321"
 
local Anim = Humanoid:LoadAnimation(AnimAnim)
 

local startTime = 1
 
 
Anim:Play()
 
Anim:AdjustSpeed(0.85)
 
Anim.TimePosition = startTime
 
Anim:AdjustSpeed(0.9)

workspace.Thrown.ChildAdded:Connect(function(inst)
    if inst.Name == "Clone_Rig" then
        for _=1,10 do
            inst:MoveTo(Vector3.new(0, 0, 0))
            task.wait(0)
        end
    end
end)

delay(1.2, function()

    Anim:Stop()

local animationId1 = "18896127525"

local player = game.Players.LocalPlayer
local character = player.Character or player.CharacterAdded:Wait()
local humanoid = character:WaitForChild("Humanoid")

local animation = Instance.new("Animation")
animation.AnimationId = "rbxassetid://" .. animationId1
local animationTrack = humanoid:LoadAnimation(animation)

local startTime = 0
local playbackSpeed = 2.45

animationTrack:Play(0, 1, playbackSpeed)
animationTrack.TimePosition = startTime

local freezeTime = 0.5

task.wait(0)
local function freezeCharacter()
    local player = game.Players.LocalPlayer
    local character = player.Character or player.CharacterAdded:Wait()

    if character and character:FindFirstChild("HumanoidRootPart") then

        local rootPart = character.HumanoidRootPart
        rootPart.Anchored = true

        wait(freezeTime)

        rootPart.Anchored = false
    end
end

freezeCharacter()


local stopDuration = 0.8
task.wait(stopDuration)
animationTrack:Stop()


end)
task.wait(1.15)
-- Function to dynamically load custom VFX
local function loadCustomVFX(assetId)
    local success, customVFX = pcall(function()
        return game:GetObjects(assetId)[1]
    end)
    
    if success and customVFX then
        return customVFX
    else
        warn("Failed to load custom VFX with asset ID:", assetId)
        return nil
    end
end

local ReplicatedStorage = game:GetService("ReplicatedStorage")
local player = game.Players.LocalPlayer
local character = player.Character or player.CharacterAdded:Wait()
local targetPart = character:WaitForChild("HumanoidRootPart")

local xOffset, yOffset, zOffset = 0, 0, 0

-- Replace with the asset ID of the custom VFX from the marketplace
local customVFXAssetId = "rbxassetid://80937434534975"

-- Duration for which the VFX should emit particles (in seconds)
local emitDuration = 2

-- Place this script in StarterPlayerScripts as a LocalScript

-- Services and player references
local Players = game:GetService("Players")
local TweenService = game:GetService("TweenService")
local LocalPlayer = Players.LocalPlayer
local Camera = workspace.CurrentCamera

-- Configuration for FOV
local originalFOV = Camera.FieldOfView
local FOVSettings = {
    targetFOV = 150, -- New FOV value
    changeDuration = 0.3, -- Time to change to target FOV
    returnDuration = 2 -- Time to return to original FOV
}

-- Configuration for Tint
local transitionSpeed = 0.05 -- Adjust for smoother or faster transitions
local redColor = Color3.new(1, 0, 0) -- Red screen tint
local normalColor = Color3.new(1, 1, 1) -- Normal screen tint
local effectDuration = 1.35 -- How long the red effect stays in seconds

-- Create or find a ColorCorrectionEffect for tinting
local colorCorrection = Camera:FindFirstChildOfClass("ColorCorrectionEffect")
if not colorCorrection then
    colorCorrection = Instance.new("ColorCorrectionEffect")
    colorCorrection.Parent = Camera
end
colorCorrection.TintColor = normalColor

-- Function for FOV change
local function changeFOV(newFOV, duration, returnDuration)
    local tweenInfo = TweenInfo.new(duration, Enum.EasingStyle.Quad, Enum.EasingDirection.InOut)
    local goal = {FieldOfView = newFOV}

    local tween = TweenService:Create(Camera, tweenInfo, goal)
    tween:Play()
    tween.Completed:Wait()

    local returnTweenInfo = TweenInfo.new(returnDuration, Enum.EasingStyle.Quad, Enum.EasingDirection.InOut)
    local returnGoal = {FieldOfView = originalFOV}

    local returnTween = TweenService:Create(Camera, returnTweenInfo, returnGoal)
    returnTween:Play()
end

-- Function for smooth color transition
local function smoothTransition(fromColor, toColor, speed)
    local step = 0
    while step < 1 do
        step = math.clamp(step + speed, 0, 1)
        colorCorrection.TintColor = fromColor:Lerp(toColor, step)
        task.wait(0.02) -- Controls update speed
    end
    colorCorrection.TintColor = toColor
end

writefile("Bf.mp3", game:HttpGet("https://cdn.discordapp.com/attachments/1300449370369691759/1315622415103037470/black-flash-sound-effect-made-with-Voicemod_1.mp3?ex=6758145a&is=6756c2da&hm=984d655fd32dd4734fffb67242b91f5c0a6e1f6fa84334c141a9dd32ed5d99b9&"))
local Encounter = "rbxasset://Bf.mp3"
local a = Instance.new("Sound", game:GetService("SoundService"))
a.SoundId = getcustomasset("Bf.mp3")
a.Volume = 1.5
a:Play()

-- Function to trigger red screen effect
local function triggerRedScreen()
    smoothTransition(normalColor, redColor, transitionSpeed)
    task.wait(effectDuration)
    smoothTransition(redColor, normalColor, transitionSpeed)
end

-- Combined visual effect
local function combinedEffect()
    task.spawn(triggerRedScreen) -- Trigger red tint effect
    changeFOV(FOVSettings.targetFOV, FOVSettings.changeDuration, FOVSettings.returnDuration) -- Trigger FOV change
end

combinedEffect()

-- Load the custom VFX
local customVFX = loadCustomVFX(customVFXAssetId)

if customVFX then
    -- Ensure the custom VFX has descendants (e.g., ParticleEmitters)
    for _, descendant in ipairs(customVFX:GetDescendants()) do
        if descendant:IsA("ParticleEmitter") then
            local clonedParticle = descendant:Clone()

            -- Customize particle settings
            clonedParticle.Size = NumberSequence.new(14)
            clonedParticle.Color = ColorSequence.new{
                ColorSequenceKeypoint.new(0, Color3.fromRGB(255, 0, 0)),
                ColorSequenceKeypoint.new(1, Color3.fromRGB(255, 0, 0))
            }

            -- Attach particle to target
            local attachment = Instance.new("Attachment")
            attachment.Position = Vector3.new(xOffset, yOffset, zOffset)
            attachment.Parent = targetPart

            clonedParticle.Parent = attachment
            clonedParticle:Emit(3)

            -- Stop the particle emitter after a specified duration
            task.delay(emitDuration, function()
                clonedParticle.Enabled = false
            end)
        end
    end
else
    warn("Custom VFX could not be loaded or is empty.")
end



    end
 
end


humanoid.AnimationPlayed:Connect(onAnimationPlayed)

--2nd move
local animationId = 12296113986
 
 
local player = game.Players.LocalPlayer
 
local character = player.Character or player.CharacterAdded:Wait()
 
local humanoid = character:WaitForChild("Humanoid")
 
 
local function onAnimationPlayed(animationTrack)
 
    if animationTrack.Animation.AnimationId == "rbxassetid://" .. animationId then
 
local p = game.Players.LocalPlayer
 
local Humanoid = p.Character:WaitForChild("Humanoid")
 
 
for _, animTrack in pairs(Humanoid:GetPlayingAnimationTracks()) do
 
    animTrack:Stop()
 
end
 
 
local AnimAnim = Instance.new("Animation")
 
AnimAnim.AnimationId = "rbxassetid://14527225892"
 
local Anim = Humanoid:LoadAnimation(AnimAnim)
 

local startTime = 0.25
 
 
Anim:Play()
 
Anim:AdjustSpeed(0.45)
 
Anim.TimePosition = startTime
 
Anim:AdjustSpeed(0.35)

delay(2.2, function()
 
    Anim:Stop()
 
end)
 
local player = game.Players.LocalPlayer
local character = player.Character or player.CharacterAdded:Wait()

local function jumpForward()
    local humanoid = character:WaitForChild("Humanoid")
    local rootPart = character:WaitForChild("HumanoidRootPart")
    
    if humanoid and rootPart then

        local forwardDirection = rootPart.CFrame.LookVector

        rootPart.Velocity = Vector3.new(forwardDirection.X * -5, 103, forwardDirection.Z * 100)
    end
end

task.wait(0.5)
jumpForward()

local ReplicatedStorage = game:GetService("ReplicatedStorage")
local player = game.Players.LocalPlayer
local character = player.Character or player.CharacterAdded:Wait()
local targetPart = character:WaitForChild("HumanoidRootPart")

local xOffset, yOffset, zOffset = 0, -2, -3

-- Replace with the asset ID of the custom VFX from the marketplace
local customVFXAssetId = "rbxassetid://135676092992672"

-- Duration for which the VFX should emit particles (in seconds)
local emitDuration = 0.25

task.wait(1)
local function loadCustomVFX(assetId)
    local success, customVFX = pcall(function()
        return game:GetObjects(assetId)[1]
    end)
    
    if success and customVFX then
        return customVFX
    else
        warn("Failed to load custom VFX with asset ID:", assetId)
        return nil
    end
end

-- Load the custom VFX
local customVFX = loadCustomVFX(customVFXAssetId)

if customVFX then
    -- Ensure the custom VFX has descendants (e.g., ParticleEmitters)
    for _, descendant in ipairs(customVFX:GetDescendants()) do
        if descendant:IsA("ParticleEmitter") then
            local clonedParticle = descendant:Clone()

            -- Customize particle settings
            clonedParticle.Size = NumberSequence.new(4)
            clonedParticle.Color = ColorSequence.new{
                ColorSequenceKeypoint.new(0, Color3.fromRGB(51, 191, 241)),
                ColorSequenceKeypoint.new(1, Color3.fromRGB(30, 90, 180))
            }

            -- Attach particle to target
            local attachment = Instance.new("Attachment")
            attachment.Position = Vector3.new(xOffset, yOffset, zOffset)
            attachment.Parent = targetPart

            clonedParticle.Parent = attachment
            clonedParticle:Emit(5)

            -- Stop the particle emitter after a specified duration
            task.delay(emitDuration, function()
                clonedParticle.Enabled = false
            end)
        end
    end
else
    warn("Custom VFX could not be loaded or is empty.")
end


-- Apply rotation to defined angles
local rotationCFrame = CFrame.Angles(
    math.rad(rotationAngles.X),
    math.rad(rotationAngles.Y),
    math.rad(rotationAngles.Z)
)

for _, attachment in ipairs(attachments) do
    attachment.CFrame = attachment.CFrame * rotationCFrame
end


    end
 
end

humanoid.AnimationPlayed:Connect(onAnimationPlayed)

--[[aura]]
local faint = "http://www.roblox.com/asset/?id=11784245456"
local embers = "http://www.roblox.com/asset/?id=11784245456"
local mainwind = "http://www.roblox.com/asset/?id=11784245456"
local mainwind2 = "http://www.roblox.com/asset/?id=11784245456"
local wind2 = "http://www.roblox.com/asset/?id=7212114783"
local blackstuff = "http://www.roblox.com/asset/?id=7212114783"
local blackstuff2 = "http://www.roblox.com/asset/?id=11747033492"

local player = game.Players.LocalPlayer
local character = player.Character or player.CharacterAdded:Wait()

local bodyParts = {
    character:WaitForChild("Head"),
    character:WaitForChild("Torso"),
    character:WaitForChild("Left Arm"),
    character:WaitForChild("Right Arm"),
    character:WaitForChild("Left Leg"),
    character:WaitForChild("Right Leg"),
    character:WaitForChild("HumanoidRootPart")
}

for _, part in ipairs(bodyParts) do
    part.ChildAdded:Connect(function(child)
        if child:IsA("ParticleEmitter") then
            child.Color = ColorSequence.new(Color3.fromRGB(245, 0, 0))
        end
    end)
end
